# Production Environment Configuration
# Copy this file to .env for local testing or use in CI/CD

# ===== DELTA SHARING SERVER CONFIGURATION =====
DELTA_SHARING_SERVER_PORT=8080
DELTA_SHARING_SERVER_HOST=0.0.0.0

# ===== SECURITY CONFIGURATION =====
# CRITICAL: Use a cryptographically secure bearer token for production
# Generate with: openssl rand -hex 32
DELTA_SHARING_BEARER_TOKEN=REPLACE_WITH_SECURE_PRODUCTION_TOKEN

# ===== MINIO CONFIGURATION =====
MINIO_ROOT_USER=REPLACE_WITH_SECURE_USERNAME
MINIO_ROOT_PASSWORD=REPLACE_WITH_SECURE_PASSWORD_MIN_8_CHARS
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BUCKET_NAME=delta-sharing-production-data

# ===== AZURE CONFIGURATION =====
# Resource group for all Azure resources
AZURE_RESOURCE_GROUP=fairgrounds-deltashare-prod-rg
# Azure region for deployment
AZURE_LOCATION=eastus
# Container instances naming
AZURE_CONTAINER_INSTANCES_NAME=fairgrounds-deltashare-production

# ===== APPLICATION CONFIGURATION =====
# Set to INFO or WARNING for production
LOG_LEVEL=INFO
# Set to false for production
DEBUG=false
# Environment identifier
ENVIRONMENT=production

# ===== CONTAINER REGISTRY =====
# Azure Container Registry name (will be created)
ACR_NAME=fairgroundsdeltashareprodacr

# ===== MONITORING & LOGGING =====
# Enable health checks
HEALTH_CHECK_ENABLED=true
# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# ===== PERFORMANCE TUNING =====
# Container CPU limits (for Azure Container Instances)
CONTAINER_CPU_LIMIT=2
# Container memory limits in GB
CONTAINER_MEMORY_LIMIT=4

# ===== BACKUP CONFIGURATION =====
# Enable automatic data backup (if implemented)
BACKUP_ENABLED=true
# Backup retention in days
BACKUP_RETENTION_DAYS=30

# ===== NETWORK SECURITY =====
# Allowed IP ranges for access (comma-separated CIDR blocks)
# Example: 10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
ALLOWED_IP_RANGES=0.0.0.0/0

# ===== TLS/SSL CONFIGURATION =====
# Enable HTTPS (requires certificate setup)
TLS_ENABLED=false
# Certificate file path (if TLS enabled)
TLS_CERT_PATH=/etc/ssl/certs/deltashare.crt
# Private key file path (if TLS enabled)
TLS_KEY_PATH=/etc/ssl/private/deltashare.key

# ===== DATA CONFIGURATION =====
# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB=1000
# Maximum number of concurrent connections
MAX_CONNECTIONS=100

# ===== AZURE SPECIFIC SETTINGS =====
# Azure subscription ID (for automated deployments)
AZURE_SUBSCRIPTION_ID=REPLACE_WITH_YOUR_SUBSCRIPTION_ID
# Azure tenant ID (for service principal authentication)
AZURE_TENANT_ID=REPLACE_WITH_YOUR_TENANT_ID

# ===== PRODUCTION SECURITY NOTES =====
# 1. Never commit this file with real secrets to version control
# 2. Use Azure Key Vault for secret management in production
# 3. Rotate bearer tokens regularly (recommend monthly)
# 4. Use strong, unique passwords for MinIO
# 5. Consider implementing IP allowlisting
# 6. Enable Azure Monitor for logging and alerting
# 7. Set up automated backups for critical data
# 8. Review Azure Security Center recommendations

# ===== DISASTER RECOVERY =====
# Secondary Azure region for disaster recovery
AZURE_DR_LOCATION=westus2
# Enable cross-region replication
DR_REPLICATION_ENABLED=false

# ===== COMPLIANCE =====
# Enable audit logging
AUDIT_LOGGING_ENABLED=true
# Data retention policy in days
DATA_RETENTION_DAYS=2555  # 7 years for compliance
# Enable data encryption at rest
ENCRYPTION_AT_REST_ENABLED=true